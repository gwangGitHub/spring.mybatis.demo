<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8">
<title>交易流水接口测试</title>
<script type="text/javascript" src="../js/lib/jquery-1.7.2.js"></script>
<style type="text/css">
.tab{
	border:1px solid #cccccc;
	padding:10px 10px;
	width:80%;
	margin:5px 10%;
	float:left;
}
p{
	margin:5px 10px;
}
.input{
	width:34%;
	float:left;
	margin:5px 10px;
}
.req{
	width:30%;
	float:left;
	margin:5px 10px;
}
.result{
	width:30%;
	float:left;
	margin:5px 10px;
}
.hover{
    position:fixed;
    right: 100px;
    top:168px;
    background-color: #dddddd;
    width: 60px;
    height: 60px;
    text-align: center;
    vertical-align: middle;
}
.hover .button{
    margin:5px auto;
}
</style>
</head>
<body>
    <div id="hover" class="hover">
        <div id="back" class="button"><a href="main.html">Back</a></div>
        <div id="up" class="button"><a href="#menu">Forword</a></div>
    </div>
    <div id="menu" class="menu">
        <ul>
            <li><a href="#orderQuery">Search</a></li>
        </ul>
    </div>

	<div id="flowQuery" class="tab">
		<div id="input" class="input">
			<h3>Search</h3>
			<p>Seq:<input type="text" id="serviceId" value="11"/></p>
			<p>Num:<input type="text" id="flowSeq" value=""/></p>
			<p><button id="post">POST</button></p>
		</div>
		<div id="req" class="req"></div>
		<div id="result" class="result"></div>
	</div>
	
	<script type="text/javascript">

		$("#flowQuery #post").click(function(){
			var id = $("#serviceId").val();
			$.ajax({
	            dataType: 'json',
	            type : 'post',
	            url : "flow",
	            data: {
	            	id: id
	            },
	            success : function(data){
	                if(data.success){
	                	$("#flowQuery #result").empty().append("Result:<pre> tran_date:"+ data.tranFlow.tran_date +"</pre>"
	                			+ "<pre> acc_no:"+ data.tranFlow.acc_no +"</pre>");
	                }else {
	                    alert(data.success);
	                }
	            },
	            error:function(XMLHttpRequest ,errMsg){
	                alert("network error");
	            }
	        });
		});

	</script>
</body>
</html>